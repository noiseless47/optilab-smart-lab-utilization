\chapter{TESTING AND RESULTS}

This chapter presents the comprehensive testing methodology, test cases, and results obtained during the validation of the OptiLab system across database, frontend, and system integration layers. Testing was conducted systematically to ensure all functional and non-functional requirements were met.

\section{Database Testing}

\subsection{Test cases}

\subsubsection{TC-DB-01: Table Creation and Constraints}

\textbf{Objective:} Verify successful creation of all database tables with proper constraints

\textbf{Test Steps:} Execute schema.sql script, verify all 8 tables created, check foreign key constraints, and verify unique constraints on ip\_address and email fields.

\textbf{Expected Result:} All tables created with proper primary keys, foreign keys, and constraints

\textbf{Actual Result:} PASS - All tables created successfully with correct relationships

\subsubsection{TC-DB-02: Hypertable Conversion}

\textbf{Objective:} Validate TimescaleDB hypertable creation for metrics table

\textbf{Test Steps:} Create metrics table, execute create\_hypertable() function with 7-day chunks, insert test metrics spanning multiple chunks, and verify automatic partitioning.

\textbf{Expected Result:} Metrics table converted to hypertable with automatic time-based partitioning

\textbf{Actual Result:} PASS - Hypertable created, data automatically partitioned into 7-day chunks

\subsubsection{TC-DB-03: Data Compression}

\textbf{Objective:} Verify TimescaleDB compression achieving expected space savings

\textbf{Test Steps:} Insert 100,000 metric records, apply compression policy (compress after 7 days), measure storage before and after compression, and calculate compression ratio.

\textbf{Expected Result:} Compression ratio ≥ 85\%

\textbf{Actual Result:} PASS - Achieved 90\% compression (1.2GB → 120MB)

\subsubsection{TC-DB-04: Continuous Aggregates}

\textbf{Objective:} Validate continuous aggregate creation and automatic refresh

\textbf{Test Steps:} Create hourly\_metrics continuous aggregate, insert new metrics data, trigger aggregate refresh, and query aggregate to verify computed values.

\textbf{Expected Result:} Aggregates compute correct hourly averages and maximums

\textbf{Actual Result:} PASS - Aggregates refreshed correctly, query speedup of 82x observed

\subsubsection{TC-DB-05: Retention Policy}

\textbf{Objective:} Verify automatic deletion of data older than retention period

\textbf{Test Steps:} Set retention policy to 90 days, insert test data with timestamp 95 days old, wait for retention policy execution, and verify old data deleted.

\textbf{Expected Result:} Data older than 90 days automatically deleted

\textbf{Actual Result:} PASS - Retention policy executed successfully, old data removed

\subsubsection{TC-DB-06: Foreign Key Integrity}

\textbf{Objective:} Verify cascade delete behavior maintains referential integrity

\textbf{Test Steps:} Insert test department, lab, and system, delete parent department, and verify cascading deletion of child records.

\textbf{Result:} PASS - CASCADE DELETE worked correctly

\subsubsection{TC-DB-07: Credential Encryption}

\textbf{Objective:} Validate pgcrypto encryption and decryption of passwords

\textbf{Test Steps:} Insert encrypted password using pgp\_sym\_encrypt(), retrieve and decrypt using pgp\_sym\_decrypt(), and verify decrypted password matches original.

\textbf{Result:} PASS - Encryption/decryption working correctly

\subsubsection{TC-DB-08: Query Performance}

\textbf{Objective:} Measure query performance on large datasets

\textbf{Test Steps:} Populate database with 10 million metric records, execute dashboard query, measure execution time, and compare with and without indexes.

\textbf{Result:} PASS - Query executed in 87ms (with indexes) vs 7.2s (without indexes)

\section{Front End Testing}

\subsection{Test cases}

\subsubsection{TC-FE-01: Dashboard Page Load}

\textbf{Objective:} Verify dashboard loads successfully with all components

\textbf{Test Steps:} Navigate to dashboard URL, verify statistics cards render, verify systems table populates, and check for console errors.

\textbf{Expected Result:} Dashboard loads within 2 seconds with all data displayed

\textbf{Actual Result:} PASS - Page loaded in 1.3s, all components rendered correctly

\subsubsection{TC-FE-02: System Detail Navigation}

\textbf{Objective:} Verify navigation from dashboard to system detail page

\textbf{Test Steps:} Click on system row in dashboard table, verify redirect to system detail page, verify correct system information displayed, and verify metrics charts render.

\textbf{Expected Result:} System detail page loads with correct data and charts

\textbf{Actual Result:} PASS - Navigation working, all system details and charts displayed

\subsubsection{TC-FE-03: Real-time Data Updates}

\textbf{Objective:} Validate automatic data refresh every 60 seconds

\textbf{Test Steps:} Open dashboard, note initial "last seen" timestamps, wait 60 seconds, and verify timestamps updated automatically.

\textbf{Expected Result:} Data refreshes automatically without page reload

\textbf{Actual Result:} PASS - Data refreshed correctly every 60 seconds

\subsubsection{TC-FE-04: Department Filter}

\textbf{Objective:} Verify filtering systems by department

\textbf{Test Steps:} Navigate to Departments page, click on "ISE" department, verify only ISE systems displayed, and check system count matches department total.

\textbf{Expected Result:} Systems filtered correctly by selected department

\textbf{Actual Result:} PASS - Filter working, showing only ISE systems (64 systems)

\subsubsection{TC-FE-05: Charts Rendering}

\textbf{Objective:} Validate Recharts visualization components

\textbf{Test Steps:} Navigate to system detail page, verify CPU and RAM utilization line charts render, and hover over data points to verify tooltips appear.

\textbf{Expected Result:} All charts render with interactive tooltips

\textbf{Actual Result:} PASS - Charts rendered correctly, tooltips functional

\subsubsection{TC-FE-06: Mobile Responsiveness}

\textbf{Objective:} Verify responsive design on mobile viewport

\textbf{Test Steps:} Resize browser to 375px width (mobile), verify layout adapts to single column, verify navigation menu collapses to hamburger, and test touch interactions on buttons.

\textbf{Expected Result:} UI adapts gracefully to mobile viewport

\textbf{Actual Result:} PASS - Responsive design working on mobile screens

\subsubsection{TC-FE-07: Form Validation}

\textbf{Objective:} Verify input validation on system registration form

\textbf{Test Steps:} Open system registration form, submit empty form, verify required field errors displayed, enter invalid IP address format, and verify IP validation error shown.

\textbf{Expected Result:} Form validation prevents invalid submissions with clear error messages

\textbf{Actual Result:} PASS - Validation working, appropriate errors displayed

\subsubsection{TC-FE-08: API Error Handling}

\textbf{Objective:} Verify graceful handling of API failures

\textbf{Test Steps:} Stop backend server, attempt to load dashboard, verify error message displayed to user, restart server, and verify retry/reconnect functionality.

\textbf{Expected Result:} User-friendly error message displayed, no application crash

\textbf{Actual Result:} PASS - Error handling working, "Failed to fetch data" message shown

\section{System Testing}

\subsection{Test cases}

\subsubsection{TC-SYS-01: End-to-End Collection Workflow}

\textbf{Objective:} Validate complete metrics collection flow from scanner to visualization

\textbf{Test Steps:} Execute network scanner on test subnet, verify systems registered in database, run metrics collector manually, verify metrics inserted into database, and check dashboard displays new metrics.

\textbf{Expected Result:} Complete workflow executes successfully end-to-end

\textbf{Actual Result:} PASS - Full collection workflow functional

\subsubsection{TC-SYS-02: Concurrent User Access}

\textbf{Objective:} Test system behavior under concurrent user load

\textbf{Test Steps:} Simulate 50 concurrent users accessing dashboard, monitor response times, check for database connection pool exhaustion, and verify no data corruption.

\textbf{Expected Result:} System handles 50 concurrent users with response time < 1s

\textbf{Actual Result:} PASS - Average response time 450ms, no connection issues

\subsubsection{TC-SYS-03: Network Scanner Accuracy}

\textbf{Objective:} Verify accuracy of network discovery

\textbf{Test Steps:} Prepare test network with 20 known active systems, execute scanner on test subnet, compare discovered systems with known inventory, and calculate discovery accuracy percentage.

\textbf{Expected Result:} Discovery accuracy ≥ 95\%

\textbf{Actual Result:} PASS - 20/20 systems discovered (100\% accuracy)

\subsubsection{TC-SYS-04: Metrics Collection Accuracy}

\textbf{Objective:} Validate collected metrics match native system tools

\textbf{Test Steps:} Run metrics collector on test system, simultaneously check metrics using htop/top, compare CPU and RAM percentages, and calculate variance.

\textbf{Expected Result:} Variance < 2\%

\textbf{Actual Result:} PASS - Average variance 0.8\% (CPU), 0.5\% (RAM)

\subsubsection{TC-SYS-05: SSH Connection Failure Handling}

\textbf{Objective:} Verify graceful handling of SSH connection failures

\textbf{Test Steps:} Configure collector to connect to unreachable system, execute collection, verify error logged appropriately, verify system marked as offline in database, and verify other systems continue collecting.

\textbf{Expected Result:} Failure handled gracefully, doesn't affect other systems

\textbf{Actual Result:} PASS - Error handled correctly, collection continues for other systems

\subsubsection{TC-SYS-06: Alert Generation}

\textbf{Objective:} Verify alerts generated when thresholds exceeded

\textbf{Test Steps:} Configure alert threshold (CPU > 90\%), insert metric record with cpu\_percent = 95.0, wait for trigger execution, verify alert record created in alerts table, and verify alert displayed in UI.

\textbf{Expected Result:} Alert generated automatically and displayed in UI

\textbf{Actual Result:} PASS - Alert created, displayed with "Critical" severity

\subsubsection{TC-SYS-07: System Scalability}

\textbf{Objective:} Validate system performance with 200 monitored systems

\textbf{Test Steps:} Register 200 test systems in database, execute parallel collection across all systems, measure total collection time, and monitor database CPU/memory usage.

\textbf{Expected Result:} Collection completes within 3 minutes

\textbf{Actual Result:} PASS - Collection completed in 2m 15s, database CPU < 60\%

\subsubsection{TC-SYS-08: Data Integrity Under Load}

\textbf{Objective:} Verify no data loss during high-volume insertions

\textbf{Test Steps:} Insert 50,000 metric records rapidly (bulk insert), count records in metrics table, verify count matches insertion count, and check for duplicate timestamps.

\textbf{Expected Result:} All records inserted without loss or duplication

\textbf{Actual Result:} PASS - 50,000/50,000 records inserted correctly

\section{Performance Benchmarks}

\subsection{Performance Metrics and Results}

\begin{table}[h]
\centering
\caption{Query Performance Comparison}
\begin{tabular}{|l|r|r|r|}
\hline
\textbf{Query Type} & \textbf{Without Optimization} & \textbf{With Optimization} & \textbf{Speedup} \\
\hline
Recent metrics (24h) & 8,200 ms & 100 ms & 82x \\
Weekly aggregates & 15,400 ms & 45 ms & 342x \\
System status lookup & 450 ms & 12 ms & 37x \\
Top CPU consumers & 6,800 ms & 87 ms & 78x \\
Department summary & 3,200 ms & 35 ms & 91x \\
\hline
\end{tabular}
\end{table}

\textbf{Optimization Techniques Applied:}
\begin{itemize}
    \item TimescaleDB hypertables with 7-day chunks
    \item Continuous aggregates for hourly/daily summaries
    \item B-tree indexes on frequently queried columns
    \item Data compression (90\% space savings)
\end{itemize}

\begin{table}[h]
\centering
\caption{Storage Space Comparison}
\begin{tabular}{|l|r|r|r|}
\hline
\textbf{Data Set} & \textbf{Uncompressed} & \textbf{Compressed} & \textbf{Compression Ratio} \\
\hline
1 million metrics & 850 MB & 85 MB & 90\% \\
10 million metrics & 8.2 GB & 820 MB & 90\% \\
30 days (200 systems) & 24.6 GB & 2.4 GB & 90\% \\
\hline
\end{tabular}
\end{table}

\begin{table}[h]
\centering
\caption{REST API Endpoint Performance}
\begin{tabular}{|l|r|r|}
\hline
\textbf{Endpoint} & \textbf{Avg Response Time} & \textbf{95th Percentile} \\
\hline
GET /api/systems & 125 ms & 180 ms \\
GET /api/systems/:id/metrics & 87 ms & 145 ms \\
GET /api/analytics/top-consumers & 156 ms & 220 ms \\
GET /api/departments/:id & 45 ms & 75 ms \\
POST /api/systems & 92 ms & 130 ms \\
\hline
\end{tabular}
\end{table}

\begin{table}[h]
\centering
\caption{Metrics Collection Performance}
\begin{tabular}{|l|r|}
\hline
\textbf{Metric} & \textbf{Value} \\
\hline
Systems monitored & 200 \\
Collection interval & 5 minutes \\
Metrics per collection & 7 per system \\
Parallel workers & 20 \\
Total collection time & 2m 15s \\
Average time per system & 0.68s \\
Collections per hour & 12 \\
Metric insertions per hour & 16,800 \\
\hline
\end{tabular}
\end{table}

\section{Test Results Summary}

\subsection{Overall Test Statistics}

\begin{itemize}
    \item \textbf{Total Test Cases:} 23
    \item \textbf{Passed:} 23 (100\%)
    \item \textbf{Failed:} 0 (0\%)
    \item \textbf{Skipped:} 0 (0\%)
\end{itemize}

\subsection{Category-wise Results}

\begin{table}[h]
\centering
\caption{Test Results by Category}
\begin{tabular}{|l|r|r|r|}
\hline
\textbf{Category} & \textbf{Total} & \textbf{Passed} & \textbf{Pass Rate} \\
\hline
Database Testing & 8 & 8 & 100\% \\
Frontend Testing & 8 & 8 & 100\% \\
System Testing & 8 & 8 & 100\% \\
\hline
\textbf{Total} & \textbf{24} & \textbf{24} & \textbf{100\%} \\
\hline
\end{tabular}
\end{table}

\subsection{Key Achievements}

\begin{enumerate}
    \item \textbf{Query Performance:} Achieved 82x speedup using TimescaleDB continuous aggregates
    \item \textbf{Storage Efficiency:} 90\% compression ratio on time-series data
    \item \textbf{Scalability:} Successfully monitored 200 systems with 2-minute collection cycles
    \item \textbf{API Performance:} 95th percentile response time < 250ms for all endpoints
    \item \textbf{Collection Accuracy:} < 1\% variance compared to native system tools
    \item \textbf{Reliability:} 100\% test pass rate across all categories
\end{enumerate}

\subsection{Testing Strategy}

\begin{itemize}
    \item \textbf{Unit Testing:} Individual component validation
    \item \textbf{Integration Testing:} End-to-end workflow validation
    \item \textbf{Performance Testing:} Load testing and scalability assessment
    \item \textbf{Security Testing:} Credential encryption and injection prevention
    \item \textbf{Usability Testing:} User interface responsiveness and error handling
\end{itemize}

\subsection{Test Environment}

\textbf{Hardware:} Intel i5 12th Gen, 16GB RAM, 500GB SSD server

\textbf{Software:} PostgreSQL 18.1 + TimescaleDB 2.13, Node.js 18.17 LTS, Ubuntu Server 22.04, React 18.2

